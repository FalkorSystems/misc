# Install Ubuntu on Beagle
# http://elinux.org/BeagleBoardUbuntu#Precise_12.04_armhf

wget http://rcn-ee.net/deb/rootfs/quantal/ubuntu-12.10-r1-minimal-armhf-2012-10-19.tar.xz

tar xJfv ubuntu-12.10-r1-minimal-armhf-2012-10-19.tar.xz
cd ubuntu-12.10-r1-minimal-armhf-2012-10-19

sudo apt-get install wget pv dosfstools parted git-core

sudo ./setup_sdcard.sh --probe-mmc

sudo ./setup_sdcard.sh --mmc /dev/sdX --uboot bone

# Connect to beaglebone, connect to network

ssh -l ubuntu 192.168.10.13
wget http://packages.ros.org/ros.key -O - | sudo apt-key add -

sudo apt-get update
sudo apt-get upgrade

# http://www.ros.org/wiki/fuerte/Installation/Ubuntu/Source

sudo apt-get install python-pip build-essential python-yaml cmake subversion wget python-setuptools mercurial git-core python-yaml libapr1-dev libaprutil1-dev libbz2-dev python-dev python-empy python-nose libgtest-dev python-paramiko libboost-all-dev liblog4cxx10-dev pkg-config

sudo pip install -U rosinstall vcstools rospkg rosdep

rosinstall --catkin ~/ros-underlay http://ros.org/rosinstalls/fuerte-ros-base.rosinstall

cd ~/ros-underlay
mkdir build
cd build

cmake .. -DCMAKE_INSTALL_PREFIX=/opt/ros/fuerte
make -j8
make -j8
make -j8
sudo make install


# save the image
# put the SD back in your pc
# (XG is 16G or whatnot)
sudo dd if=/dev/sdX bs=4096 | pv -s XG | dd bs=4096 of=~/BEAGLE_ROS_BACKUP.IMG

# restore from an image
dd if=~/BEAGLE_ROS_BACKUP.IMG bs=4096 | pv -s XG | sudo dd bs=4096 of=/dev/sdX



